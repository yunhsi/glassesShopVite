import{b as k}from"./vue-router-Bw7KlpfK.js";import{C as E}from"./CheckoutSteps-yHq-0buY.js";import{O as C}from"./OrderInfo-BRbxsrtM.js";import{F as S}from"./Footer-CTerlqLT.js";import{u as w,d as F}from"./index-BV9TEh6D.js";import{r as b,w as V,A as q,b8 as D,Y as I,Z as a,at as s,$ as o,a0 as M,aT as O,ag as p,aq as U,ac as u,X as A,ai as c}from"./vendor-CrjBpg2X.js";import"./pinia-CU3xBjd1.js";import"./axios-DWwaMX5J.js";import"./primevue-BM8wTknw.js";import"./sweetalert2-BY1s0Tb6.js";import"./aos-BOscYbde.js";import"./vee-validate-IgkeztmY.js";import"./fontawesome-C_6R3L64.js";import"./bootstrap-CLVcmDPs.js";const T={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"},"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"300","data-aos-delay":"300"},h={class:"container pt-4 pb-5"},B={class:"row flex-row-reverse justify-content-center pt-4"},N={class:"col-lg-5 col-md-6"},j={class:"col-lg-7 col-md-6"},z={class:"col-md-6"},R={class:"col-md-6"},$={class:"col-12"},G={class:"col-12"},H={class:"col-12"},W={class:"col-12 d-flex justify-content-between align-items-center"},de={__name:"Step2",setup(X){const r=w(),f=F(),n=b(),v=k(),l=b({user:{name:"",tel:"",address:"",email:"",payment:""}}),g=async()=>{await f.createOrder(l.value),v.push(`/order/${f.orderId}`),localStorage.setItem("isGetCoupon",!1),r.getCarts()};return V(n,()=>{n.value.carts.length||v.push("/cart")}),V(r,()=>{n.value=r.carsData}),q(()=>{n.value=r.carsData}),D({title:"建立訂單｜!WEAR"}),(Y,e)=>{const d=u("VField"),i=u("ErrorMessage"),_=u("VIcon"),x=u("router-link"),y=u("VForm");return A(),I(U,null,[a("main",T,[a("div",h,[s(E,{step:"2"}),a("div",B,[a("div",N,[s(C,{title:"訂單資訊",cart:n.value},null,8,["cart"]),o(" "+M(O(r).cartsData),1)]),a("div",j,[s(y,{class:"row g-3 pt-4 pt-md-0 small",onSubmit:g},{default:p(({errors:m})=>[a("div",z,[e[5]||(e[5]=a("label",{for:"name",class:"form-label"},[o(" 收件人姓名 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"name",modelValue:l.value.user.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.user.name=t),type:"text",name:"姓名",placeholder:"請輸入收件人姓名",class:c(["form-control",{"is-invalid":m.姓名}]),rules:"required|onlyChinese"},null,8,["modelValue","class"]),s(i,{name:"姓名",class:"invalid-feedback"})]),a("div",R,[e[6]||(e[6]=a("label",{for:"tel",class:"form-label"},[o(" 收件人電話 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"tel",modelValue:l.value.user.tel,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.user.tel=t),type:"tel",name:"電話",placeholder:"請輸入收件人電話",class:c(["form-control",{"is-invalid":m.電話}]),rules:"required|numeric|min:10|max:10"},null,8,["modelValue","class"]),s(i,{name:"電話",class:"invalid-feedback"})]),a("div",$,[e[7]||(e[7]=a("label",{for:"address",class:"form-label"},[o(" 收件人地址 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"address",modelValue:l.value.user.address,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.user.address=t),type:"text",name:"地址",placeholder:"請輸入收件人地址",class:c(["form-control",{"is-invalid":m.地址}]),rules:"required"},null,8,["modelValue","class"]),s(i,{name:"地址",class:"invalid-feedback"})]),a("div",G,[e[8]||(e[8]=a("label",{for:"Email",class:"form-label"},[o(" Email (請填寫常用信箱以追蹤出貨狀態) "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"email",modelValue:l.value.user.email,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.user.email=t),type:"email",name:"Email",placeholder:"請輸入 Email",class:c(["form-control",{"is-invalid":m.Email}]),rules:"required|email"},null,8,["modelValue","class"]),s(i,{name:"Email",class:"invalid-feedback"})]),a("div",H,[e[10]||(e[10]=a("label",{for:"payment",class:"form-label"},[o(" 付款方式 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"payment",modelValue:l.value.user.payment,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.user.payment=t),as:"select",name:"付款方式",placeholder:"請輸入付款方式",class:c(["form-select",{"is-invalid":m.付款方式}]),rules:"required"},{default:p(()=>e[9]||(e[9]=[a("option",{value:"",selected:"",disabled:""},"選擇付款方式",-1),a("option",{value:"信用卡"},"信用卡",-1),a("option",{value:"貨到付款"},"貨到付款",-1),a("option",{value:"ATM 匯款"},"ATM 匯款",-1)])),_:2},1032,["modelValue","class"]),s(i,{name:"付款方式",class:"invalid-feedback"})]),a("div",W,[s(x,{to:"/cart",prefetch:""},{default:p(()=>[s(_,{icon:["fas","chevron-left"]}),e[11]||(e[11]=o(" 返回購物車 "))]),_:1}),e[12]||(e[12]=a("button",{type:"submit",class:"btn btn-danger px-3"},"建立訂單",-1))])]),_:1})])])])]),s(S)],64)}}};export{de as default};
