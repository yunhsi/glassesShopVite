import{u as N}from"./vue-router-Bw7KlpfK.js";import{u as R,P as S}from"./useProductStore-wSpqj0q7.js";import{_ as D,u as G}from"./index-BV9TEh6D.js";import{r,w as A,ac as i,X as p,af as V,ag as w,at as s,a as P,b8 as T,A as $,Y as k,Z as t,aj as x,a0 as d,aq as E}from"./vendor-CrjBpg2X.js";import{_ as F}from"./ProductCarousel-DxcO9-t8.js";import{B as j}from"./Breadcrumb-BUBkoKkZ.js";import{F as z}from"./Footer-CTerlqLT.js";import"./pinia-CU3xBjd1.js";import"./sweetalert2-BY1s0Tb6.js";import"./axios-DWwaMX5J.js";import"./primevue-BM8wTknw.js";import"./aos-BOscYbde.js";import"./vee-validate-IgkeztmY.js";import"./fontawesome-C_6R3L64.js";import"./bootstrap-CLVcmDPs.js";import"./swiper-DHUr7kwH.js";const H={__name:"Counter",props:{count:Number},emits:["addCount","reduceCount"],setup(I,{emit:m}){const l=I,_=m,n=r(l.count);A(()=>l.count,g=>{n.value=g});const v=()=>{_("reduceCount",n.value)},u=()=>{_("addCount",n.value)};return(g,f)=>{const y=i("VButton"),c=i("VInputGroupAddon"),o=i("VInputNumber"),b=i("VInputGroup");return p(),V(b,null,{default:w(()=>[s(c,null,{default:w(()=>[s(y,{label:"-",disabled:n.value==1,severity:"secondary",onClick:v},null,8,["disabled"])]),_:1}),s(o,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=C=>n.value=C),class:"counterInput",readonly:""},null,8,["modelValue"]),s(c,null,{default:w(()=>[s(y,{label:"+",severity:"secondary",onClick:u})]),_:1})]),_:1})}}},M={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"}},q={class:"container pt-4"},L={class:"row"},O={class:"col-12"},U={key:0,class:"row pb-5 pt-3","data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"300"},W={class:"col-md-6 px-lg-5 d-flex align-items-end"},X={class:"position-relative w-100"},Y=["src"],Z={class:"d-flex gap-1 p-1 justify-content-end position-absolute start-0 end-0 top-0"},J={class:"col-md-6 pe-lg-5 d-flex align-items-end info"},K={class:"w-100"},Q={class:"fw-light"},tt={class:"fw-normal py-1"},ot={class:"border-bottom border-danger pb-3"},et={class:"p-2 my-3"},st={class:"list-unstyled small m-0"},at={class:"row"},nt={class:"col-lg-6"},lt={class:"col-lg-6 pt-3 pt-lg-0"},ut={class:"d-grid gap-2"},ct={class:"row px-3 my-5"},dt={__name:"Product",setup(I){const m=N(),l=R(),_=G(),n=P(()=>m.params.productId),v=r([{label:"全部商品",route:"/products"},{label:""}]);T({title:"商品資訊｜!WEAR"});const u=r(1),g=()=>{u.value>1&&(u.value-=1)},f=()=>{u.value+=1},y=async(a,e=1)=>{const h={product_id:a,qty:e};await _.postCart(h)},c=r([]),o=r(),b=async()=>{await l.getProduct(n.value),await l.getAllProducts(),o.value=l.productData,C(),v.value[1].label=o.value.title},C=()=>{c.value=l.allProductsData.filter(a=>a.category===o.value.category&&a.description===o.value.description&&a.content===o.value.content&&a.id!==o.value.id)};$(b),A(()=>m.params.productId,b);const B=P(()=>{const a=(o.value.price/o.value.origin_price-1)*100;return Math.round(a)});return(a,e)=>{const h=i("VTag");return p(),k(E,null,[t("main",M,[t("div",q,[t("div",L,[t("div",O,[s(j,{items:v.value},null,8,["items"])])]),o.value?(p(),k("div",U,[t("div",W,[t("div",X,[t("img",{src:o.value.image,loading:"lazy",alt:"",class:"rounded custom-shadow"},null,8,Y),t("div",Z,[o.value.unit?(p(),V(h,{key:0,severity:"danger",value:"HOT"})):x("",!0),o.value.price!=o.value.origin_price?(p(),V(h,{key:1,severity:"warn",value:`SALE ${B.value}%`},null,8,["value"])):x("",!0)])])]),t("div",J,[t("div",K,[t("small",Q,d(o.value.id),1),t("h4",tt,d(o.value.title),1),t("h5",ot,[s(S,{product:o.value},null,8,["product"])]),t("div",et,[e[2]||(e[2]=t("p",{class:"mb-2"},"商品規格",-1)),t("ul",st,[t("li",null,"- 類型： "+d(o.value.category),1),t("li",null,"- 框型： "+d(o.value.description),1),t("li",null,"- 材質： "+d(o.value.content),1),e[1]||(e[1]=t("li",null,"- 尺寸： 53 □ 20 - 146 ○ 48",-1))])]),t("div",at,[t("div",nt,[s(H,{count:u.value,onReduceCount:g,onAddCount:f},null,8,["count"])]),t("div",lt,[t("div",ut,[t("button",{class:"btn btn-danger",style:{"padding-top":"10px","padding-bottom":"10px"},type:"button",onClick:e[0]||(e[0]=rt=>y(o.value.id,u.value))}," 加入購物車 ")])])])])])])):x("",!0),e[4]||(e[4]=t("hr",null,null,-1)),t("div",ct,[e[3]||(e[3]=t("h3",{class:"px-4 pt-4",style:{"letter-spacing":"1px"}},"你可能也喜歡",-1)),s(F,{products:c.value,isloop:!1},null,8,["products"])])])]),s(z)],64)}}},kt=D(dt,[["__scopeId","data-v-216fcf60"]]);export{kt as default};
